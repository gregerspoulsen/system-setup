---
- name: install vscode
  hosts: localhost
  vars_files:
    - vars.yaml
    - "{{ personal_vars }}"

  tasks:
  - name: install vscode
    snap:
      name: code
      classic: true
    become: true

  - name: install extensions
    ansible.builtin.command: code --install-extension {{ item }}
    loop:
      - hbenl.vscode-test-explorer
      - littlefoxteam.vscode-python-test-adapter
      - ms-python.python
      - ms-python.vscode-pylance
      - eamodio.gitlens
      - ms-azuretools.vscode-docker
      - ms-vscode-remote.remote-containers
    become: true
    become_user: "{{ user }}"